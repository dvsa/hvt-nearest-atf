{% from "includes/analytics/macro.njk" import headscript as gaHeadScript %}
<!--[if !IE 8]><!-->
       <link href="{{getAsset('all.css')}}" rel="stylesheet">
  <!--<![endif]-->

  {# For Internet Explorer 8, you need to compile specific stylesheet #}
  {# see https://frontend.design-system.service.gov.uk/supporting-ie8/#support-internet-explorer-8 #}
  <!--[if IE 8]>
    <link href="{{getAsset('all-ie8.css')}}" rel="stylesheet">
  <![endif]-->

  {# For older browsers to allow them to recognise HTML5 elements such as `<header>` #}
  <!--[if lt IE 9]>
    <script src="{{getAsset('html5shiv.js')}}"></script>
  <![endif]-->

    <!-- TODO remove these once BL-11758 is complete -->
    <!-- Include the styles here as assets aren't available yet - see this ticket BL-11758 -->
    <style>
        .hidden {
            display: none;
        }
        .js-show {
            display: none;
        }
        .js-enabled .js-show {
            display: inherit;
        }
        .capitalize:first-letter {
            text-transform: capitalize;
        }
    </style>

  <link rel="icon" href="{{getAsset('images/favicon.ico')}}" type="image/x-icon"/>
  <script src="{{getAsset('cookie-manager.js')}}"></script>
  <script>
    window.cookieManager.init({
            "delete-undefined-cookies": true,
            "user-preference-cookie-name": "cm-user-preferences",
            "user-preference-cookie-secure": false,
            "user-preference-saved-callback" : function () {
                document.getElementById('cookie-preference-success').classList.remove('govuk-visually-hidden');
                window.scrollTo(0,0);
            } ,
            "user-preference-cookie-expiry-days": 365,
            "user-preference-configuration-form-id": "cookie-manager-form",
            "cookie-banner-id": "cm_cookie_notification",
            "cookie-banner-visibility-class": "hidden",
            "cookie-banner-visible-on-page-with-preference-form": false,
            "cookie-banner-saved-callback": function () {
                document.getElementById('accept-all-cookies-success').classList.remove('govuk-visually-hidden');
            },
            "set-checkboxes-in-preference-form": true,
            "cookie-manifest": [
                {
                    "category-name": "essential",
                    "optional": false,
                    "cookies": [
                        "cm-user-preferences",
                        "incap_ses_",
                        "nlbi_",
                        "visid_incap_"
                    ]
                },
                {
                    "category-name": "analytics",
                    "optional": true,
                    "cookies": [
                        "_ga",
                        "_gat",
                        "_gid"
                    ]
                }
            ]
        });
  </script>

  {{ gaHeadScript(analytics) }}
